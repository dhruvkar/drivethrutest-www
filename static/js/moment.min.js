!function(t){if("object"==typeof exports&&"undefined"!=typeof module)module.exports=t();else if("function"==typeof define&&define.amd)define([],t);else{("undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:this).dpicker=t()}}(function(){return function t(e,n,a){function i(o,d){if(!n[o]){if(!e[o]){var s="function"==typeof require&&require;if(!d&&s)return s(o,!0);if(r)return r(o,!0);var u=new Error("Cannot find module '"+o+"'");throw u.code="MODULE_NOT_FOUND",u}var l=n[o]={exports:{}};e[o][0].call(l.exports,function(t){var n=e[o][1][t];return i(n||t)},l,l.exports,t,e,n,a)}return n[o].exports}for(var r="function"==typeof require&&require,o=0;o<a.length;o++)i(a[o]);return i}({1:[function(t,e,n){function a(t,e){return e?t?t.isSameNode&&t.isSameNode(e)?e:t.tagName!==e.tagName?t:(r(t,e),function(t,e){for(var n,r,o,d,s=0,u=0;n=e.childNodes[u],r=t.childNodes[u-s],n||r;u++)if(r)if(n)if(i(r,n))(o=a(r,n))!==n&&(e.replaceChild(o,n),s++);else{d=null;for(var l=u;l<e.childNodes.length;l++)if(i(e.childNodes[l],r)){d=e.childNodes[l];break}d?((o=a(r,d))!==d&&s++,e.insertBefore(o,n)):r.id||n.id?(e.insertBefore(r,n),s++):(o=a(r,n))!==n&&(e.replaceChild(o,n),s++)}else e.appendChild(r),s++;else e.removeChild(n),u--}(t,e),e):null:t}function i(t,e){return t.id?t.id===e.id:t.isSameNode?t.isSameNode(e):t.tagName===e.tagName&&t.type===o&&t.nodeValue===e.nodeValue}var r=t("./lib/morph"),o=3;e.exports=function(t,e){return a(e,t)}},{"./lib/morph":3}],2:[function(t,e,n){e.exports=["onclick","ondblclick","onmousedown","onmouseup","onmouseover","onmousemove","onmouseout","onmouseenter","onmouseleave","ontouchcancel","ontouchend","ontouchmove","ontouchstart","ondragstart","ondrag","ondragenter","ondragleave","ondragover","ondrop","ondragend","onkeydown","onkeypress","onkeyup","onunload","onabort","onerror","onresize","onscroll","onselect","onchange","onsubmit","onreset","onfocus","onblur","oninput","oncontextmenu","onfocusin","onfocusout"]},{}],3:[function(t,e,n){function a(t,e,n){t[n]!==e[n]&&(e[n]=t[n],t[n]?e.setAttribute(n,""):e.removeAttribute(n))}var i=t("./events"),r=i.length,o=1,d=3,s=8;e.exports=function(t,e){var n,u,l,c,h=t.nodeType,m=t.nodeName;h===o&&function(t,e){for(var n=e.attributes,a=t.attributes,i=null,r=null,o=null,d=null,s=a.length-1;s>=0;--s)o=(d=a[s]).name,i=d.namespaceURI,r=d.value,i?(o=d.localName||o,e.getAttributeNS(i,o)!==r&&e.setAttributeNS(i,o,r)):e.hasAttribute(o)?e.getAttribute(o)!==r&&("null"===r||"undefined"===r?e.removeAttribute(o):e.setAttribute(o,r)):e.setAttribute(o,r);for(var u=n.length-1;u>=0;--u)!1!==(d=n[u]).specified&&(o=d.name,(i=d.namespaceURI)?(o=d.localName||o,t.hasAttributeNS(i,o)||e.removeAttributeNS(i,o)):t.hasAttributeNS(null,o)||e.removeAttribute(o))}(t,e),h!==d&&h!==s||e.nodeValue!==t.nodeValue&&(e.nodeValue=t.nodeValue),"INPUT"===m?(u=e,l=(n=t).value,c=u.value,a(n,u,"checked"),a(n,u,"disabled"),l!==c&&(u.setAttribute("value",l),u.value=l),"null"===l&&(u.value="",u.removeAttribute("value")),n.hasAttributeNS(null,"value")?"range"===u.type&&(u.value=l):u.removeAttribute("value")):"OPTION"===m?a(t,e,"selected"):"TEXTAREA"===m&&function(t,e){var n=t.value;if(n!==e.value&&(e.value=n),e.firstChild&&e.firstChild.nodeValue!==n){if(""===n&&e.firstChild.nodeValue===e.placeholder)return;e.firstChild.nodeValue=n}}(t,e),function(t,e){for(var n=0;n<r;n++){var a=i[n];t[a]?e[a]=t[a]:e[a]&&(e[a]=void 0)}}(t,e)}},{"./events":2}],4:[function(t,e,n){e.exports=function t(e,n){for(var a=0;a<n.length;a++){var i=n[a];if(Array.isArray(i))t(e,i);else{if(("number"==typeof i||"boolean"==typeof i||i instanceof Date||i instanceof RegExp)&&(i=i.toString()),"string"==typeof i){if(/^[\n\r\s]+$/.test(i))continue;if(e.lastChild&&"#text"===e.lastChild.nodeName){e.lastChild.nodeValue+=i;continue}i=document.createTextNode(i)}i&&i.nodeType&&e.appendChild(i)}}}},{}],5:[function(t,e,n){e.exports=function t(e,n,a){if("object"!=typeof n)n&&("className"===n&&(n="class"),"htmlFor"===n&&(n="for"),"on"===n.slice(0,2)?e[n]=a:(!0===a&&(a=n),e.setAttribute(n,a)));else for(var i in n)n.hasOwnProperty(i)&&t(e,i,n[i])}},{}],6:[function(t,e,n){"use strict";function a(t,e){return void 0===e&&(e=!0),i.isMoment(t)?!0===e?t.clone():t:t instanceof Date?i(t):null}var i=void 0;try{i=t("moment")}catch(t){i=window.moment}var r="d",o="y",d="M",s="h";e.exports={_getMoment:a,months:function(){return i.months()},weekdays:function(){return i.weekdaysShort()},firstDayOfWeek:function(){return i.localeData().firstDayOfWeek()},isValid:function(t){return t=a(t,!1),i.isMoment(t)&&t.isValid()},isValidWithFormat:function(t,e){var n=i(t,e,!0);return!0===this.isValid(n)&&n.toDate()},getYear:function(t){return a(t,!1).year()},getHours:function(t){return a(t,!1).hours()},getMonth:function(t){return a(t,!1).month()},getDate:function(t){return a(t,!1).date()},getMinutes:function(t){return a(t,!1).minutes()},getSeconds:function(t){return a(t,!1).seconds()},getMilliseconds:function(t){return a(t,!1).milliseconds()},setDate:function(t,e){return a(t).date(e).toDate()},setMinutes:function(t,e){return a(t).minutes(e).toDate()},setHours:function(t,e){return a(t).hours(e).toDate()},setMonth:function(t,e){return a(t).month(e).toDate()},setYear:function(t,e){return a(t).year(e).toDate()},addDays:function(t,e){return a(t).add(e,r).toDate()},addMonths:function(t,e){return a(t).add(e,d).toDate()},addYears:function(t,e){return a(t).add(e,o).toDate()},addHours:function(t,e){return a(t).add(e,s).toDate()},subDays:function(t,e){return a(t).subtract(e,r).toDate()},subMonths:function(t,e){return a(t).subtract(e,d).toDate()},format:function(t,e){return a(t,!1).format(e)},daysInMonth:function(t){return a(t,!1).daysInMonth()},firstWeekDay:function(t){return+a(t).date(1).format("e")},resetSeconds:function(t){return a(t).seconds(0).milliseconds(0).toDate()},resetMinutes:function(t){return a(this.resetSeconds(t)).minutes(0).toDate()},resetHours:function(t){return a(this.resetMinutes(t)).hours(0).toDate()},isBefore:function(t,e){return a(t,!1).isBefore(e)},isAfter:function(t,e){return a(t,!1).isAfter(e)},isSameOrAfter:function(t,e){return a(t,!1).isSameOrAfter(e,r)},isSameOrBefore:function(t,e){return a(t,!1).isSameOrBefore(e,r)},isSameDay:function(t,e){return a(t,!1).isSame(e,r)},isSameHours:function(t,e){return a(t,!1).isSame(e,s)},isSameMonth:function(t,e){return a(t,!1).isSame(e,d)},getMeridiem:function(t){return a(t,!1).format("A")}}},{moment:"moment"}],7:[function(t,e,n){"use strict";var a=t("./dpicker.moment.js");t("./plugins/time.js")(a),e.exports=a},{"./dpicker.moment.js":9,"./plugins/time.js":10}],8:[function(t,e,n){"use strict";function a(t){var e=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(!(this instanceof a))return new a(t,n);var o=this._getContainer(t),d=o.container,s=o.attributes,u=o.reference;this._container=i(),this.data={};var l={months:a.dateAdapter.months(),days:a.dateAdapter.weekdays(),empty:!1,valid:!0,order:["months","years","time","days"],hideOnDayClick:!0,hideOnEnter:!0,hideOnOutsideClick:!0,disabled:!1,siblingMonthDayClick:!1,firstDayOfWeek:a.dateAdapter.firstDayOfWeek()};for(var c in l)void 0===n[c]?this.data[c]=l[c]:this.data[c]=n[c];for(var h in this.data.inputName=s.name?s.name:n.inputName?n.inputName:"dpicker-input",this.data.inputId=s.id?s.id:n.inputId?n.inputId:i(),this._setData("format",[s.format,"DD/MM/YYYY"]),this.events={},a.events)this.events[h]=a.events[h].bind(this);var m=a.properties;for(var p in m.min=new Date(1986,0,1),m.max=a.dateAdapter.setMonth(a.dateAdapter.addYears(new Date,1),11),m.format=this.data.format,m)this._createGetSet(p),"function"==typeof m[p]?this._setData(p,[n[p],m[p](s)]):this._setData(p,[n[p],s[p],m[p]],m[p]instanceof Date);!0===n.empty&&(this.data.empty=!0),this._setData("model",[s.value,n.model,new Date],!0),this.onChange=n.onChange,document.addEventListener("click",this.events.hide),document.addEventListener("touchend",function(t){e.data.hideOnOutsideClick&&(r(t.target,e._container)||e.events.inputBlur(t))}),this.initialize(),this._mount(d),this.isValid(this.data.model),d.id=this._container,d.addEventListener("keydown",this.events.keyDown);var f=d.querySelector("input");if(f.addEventListener("blur",this.events.inputBlur),u){for(var g=u.attributes,v=0;v<g.length;v++)f.hasAttribute(g[v].name)||f.setAttribute(g[v].name,g[v].value);u.classList&&u.classList.length&&[].slice.call(u.classList).forEach(function(t){f.classList.contains(t)||f.classList.add(t)})}return this}function i(){return([1e7]+-1e3+-4e3+-8e3+-1e11).replace(/[018]/g,function(t){return(t^16*Math.random()>>t/4).toString(16)})}function r(t,e){for(;t&&t!==document;){if(t.getAttribute("id")===e)return!0;t=t.parentNode}return!1}var o=t("yo-yoify/lib/appendChild"),d=t("yo-yoify/lib/setAttribute"),s=t("nanomorph");a.prototype._setData=function(t,e){for(var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],i=0;i<e.length;i++)if(void 0!==e[i]&&""!==e[i]){if(!1===n){this.data[t]=e[i];break}if(a.dateAdapter.isValid(e[i])){this.data[t]=e[i];break}this.data[t]=new Date;var r=a.dateAdapter.isValidWithFormat(e[i],this.data.format);if(!1!==r){this.data[t]=r;break}}},a.prototype._createGetSet=function(t){a.prototype.hasOwnProperty(t)||Object.defineProperty(a.prototype,t,{get:function(){return this.data[t]},set:function(e){this.data[t]=e,this.isValid(this.data.model),this.redraw()}})},a.prototype._getContainer=function(t){if(!t)throw new ReferenceError("Can not initialize DPicker without a container");var e={};[].slice.call(t.attributes).forEach(function(t){e[t.name]=t.value}),void 0!==t.length&&t[0]&&(t=t[0]);var n=null;if("INPUT"===t.tagName){if(!t.parentNode)throw new ReferenceError("Can not initialize DPicker on an input without parent node");var a=t.parentNode;n=t,t.parentNode.removeChild(n),(t=a).classList.add("dpicker")}return{container:t,attributes:e,reference:n}},a.prototype._getRenderChild=function(){if(!this.data.display)return"";var t={years:this.renderYears(this.events,this.data),months:this.renderMonths(this.events,this.data)};for(var e in a.renders)t[e]=a.renders[e].call(this,this.events,this.data);return t.days=this.renderDays(this.events,this.data),this.data.order.filter(function(e){return t[e]}).map(function(e){return t[e]})},a.prototype._mount=function(t){this._tree=this.getTree(),t.appendChild(this._tree)},a.prototype.getTree=function(){return this.renderContainer(this.events,this.data,[this.renderInput(this.events,this.data),this.render(this.events,this.data,this._getRenderChild())])},a.prototype.isValid=function(t){if(!1===a.dateAdapter.isValid(t))return this.data.valid=!1,!1;var e=void 0,n=void 0;return!1===this.data.time?(n=a.dateAdapter.resetHours(t),e=a.dateAdapter.isSameDay(n,this.data.min)||a.dateAdapter.isSameDay(n,this.data.max)):(n=a.dateAdapter.resetSeconds(t),e=a.dateAdapter.isSameHours(n,this.data.min)||a.dateAdapter.isSameHours(n,this.data.max)),!1===e&&(a.dateAdapter.isBefore(n,this.data.min)||a.dateAdapter.isAfter(n,this.data.max))?(this.data.valid=!1,!0):(this.data.valid=!0,!0)},a.prototype.renderInput=function(t,e,n){var i;return(i=document.createElement("input")).setAttribute("id",""+String(e.inputId)),i.setAttribute("value",""+String(!0===e.empty?"":a.dateAdapter.format(e.model,e.format))),i.setAttribute("type","text"),i.setAttribute("min",""+String(e.min)),i.setAttribute("max",""+String(e.max)),i.setAttribute("format",""+String(e.format)),i.onchange=t.inputChange,i.onfocus=t.inputFocus,i.setAttribute("name",""+String(e.inputName)),i.setAttribute("autocomplete","off"),i.setAttribute("aria-invalid",""+String(e.valid)),i.setAttribute("aria-haspopup","aria-haspopup"),e.disabled&&i.setAttribute("disabled","disabled"),i.setAttribute("class",""+String(!1===e.valid?"dpicker-invalid":"")),i},a.prototype.renderContainer=function(t,e,n){var a;return(a=document.createElement("div")).setAttribute("class","dpicker"),o(a,[n]),a},a.prototype.render=function(t,e,n){var a;return(a=document.createElement("div")).setAttribute("aria-hidden",""+String(!1===e.display)),a.setAttribute("class","dpicker-container "+String(!0===e.display?"dpicker-visible":"dpicker-invisible")+" "+String(!0===e.time?"dpicker-has-time":"")),o(a,[" ",n," "]),a},a.prototype.renderYears=function(t,e,n){for(var i,r=a.dateAdapter.getYear(e.model),s=a.dateAdapter.getYear(e.max)+1,u=a.dateAdapter.getYear(e.min),l=[];--s>=u;){var c;l.push(((c=document.createElement("option")).setAttribute("value",""+String(s)),d(c,s===r?"selected":"",s===r?"selected":""),o(c,[s]),c))}return(i=document.createElement("select")).onchange=t.yearChange,i.setAttribute("name","dpicker-year"),i.setAttribute("aria-label","Year"),o(i,[l]),i},a.prototype.renderMonths=function(t,e,n){var i,r=a.dateAdapter.getMonth(e.model),s=a.dateAdapter.getYear(e.model),u=e.months,l=e.months.map(function(t,e){return e});if(a.dateAdapter.getYear(e.max)===s){var c=a.dateAdapter.getMonth(e.max);l=l.filter(function(t){return t<=c})}if(a.dateAdapter.getYear(e.min)===s){var h=a.dateAdapter.getMonth(e.min);l=l.filter(function(t){return t>=h})}return(i=document.createElement("select")).onchange=t.monthChange,i.setAttribute("name","dpicker-month"),i.setAttribute("aria-label","Month"),o(i,[" ",l.map(function(t,e){var n;return n=document.createElement("option"),d(n,t===r?"selected":"",t===r?"selected":""),n.setAttribute("value",""+String(t)),o(n,[u[t]]),n})," "]),i},a.prototype.renderDays=function(t,e,n){var i,r,d=a.dateAdapter.daysInMonth(e.model),s=a.dateAdapter.daysInMonth(a.dateAdapter.subMonths(e.model,1)),u=e.firstDayOfWeek,l=a.dateAdapter.firstWeekDay(e.model)-1,c=a.dateAdapter.getDate(e.model),h=a.dateAdapter.getMonth(e.model),m=a.dateAdapter.getYear(e.model),p=new Array(7);e.days.map(function(t,e){p[e<u?6-e:e-u]=t});var f=new Array(Math.ceil(.1+(l+d)/7)).fill(0),g=void 0,v=void 0,y=!1,A=!1,b=!0,C="";return r=document.createElement("table"),o(r,[" ",(i=document.createElement("tr"),o(i,[p.map(function(t){var e;return e=document.createElement("th"),o(e,[t]),e})]),i)," ",f.map(function(n,i){var r;return r=document.createElement("tr"),o(r,[new Array(7).fill(0).map(function(n,r){var u,p,f;v=b,C="",r<=l&&0===i?(g=s-(l-r),v=!1,y=!0):r===l+1&&0===i?(y=!1,g=1,v=!0):(g===d&&(g=0,v=!1,b=!1,A=!0),g++);var D=new Date(m,(y?h:A?h+2:h+1)-1,g);return!1===v&&!0===e.siblingMonthDayClick&&(v=!0),e.min&&v&&(v=a.dateAdapter.isSameOrAfter(D,e.min)),e.max&&v&&(v=a.dateAdapter.isSameOrBefore(D,e.max)),!0===v&&!1===y&&!1===A&&c===g&&(C="dpicker-active"),(u=document.createElement("td")).setAttribute("class",""+String(!0===v?"dpicker-active":"dpicker-inactive")),o(u,[" ",!0===v?((p=document.createElement("button")).setAttribute("value",""+String(g)),p.setAttribute("aria-label","Day "+String(g)),p.setAttribute("aria-disabled",""+String(v)),p.onclick=!1===y&&!1===A?t.dayClick:!0===y?t.previousMonthDayClick:t.nextMonthDayClick,p.setAttribute("type","button"),p.onkeydown=t.dayKeyDown,p.setAttribute("class",""+String(C)),o(p,[" ",g," "]),p):((f=document.createElement("span")).setAttribute("class",""+String(C)),o(f,[g]),f)," "]),u})]),r})," "]),r},a.prototype.initialize=function(){this.isValid(this.data.model)},a.prototype.modelSetter=function(t){this.data.empty=!t,!0===this.isValid(t)&&(this.data.model=t),this.redraw()},a.prototype.redraw=function(){var t=this;window.requestAnimationFrame(function(){t._tree=s(t._tree,t.getTree())})},Object.defineProperties(a.prototype,{container:{get:function(){return this._container}},inputId:{get:function(){return this.data.inputId}},input:{get:function(){return this.data.empty?"":a.dateAdapter.format(this.data.model,this.data.format)}},onChange:{set:function(t){var e=this;this._onChange=function(n){return!!t&&t(e.data,n)}},get:function(){return this._onChange}},valid:{get:function(){return this.data.valid}},empty:{get:function(){return this.data.empty}},model:{set:function(t){this.modelSetter(t)},get:function(){return this.data.model}}}),a.decorate=function(t,e){return function(){return!1!==e.apply(this,arguments)&&t.apply(this,arguments)}},a.events={hide:function(t){!1!==this.data.hideOnOutsideClick&&!1!==this.display&&(r(t.target.parentNode,this._container)||(this.display=!1,this.onChange({modelChanged:!1,name:"hide",event:t})))},inputChange:function(t){if(t.target.value){var e=a.dateAdapter.isValidWithFormat(t.target.value,this.data.format);!1!==e&&!0===this.isValid(e)&&(this.data.model=e),this.data.empty=!1}else this.data.empty=!0;this.redraw(),this.onChange({modelChanged:!0,name:"inputChange",event:t})},inputBlur:function(t){!1!==this.display&&(r((t.relatedTarget||t.target).parentNode,this._container)||(this.display=!1,this.onChange({modelChanged:!1,name:"inputBlur",event:t})))},inputFocus:function(t){this.display=!0,t.target&&t.target.select&&t.target.select(),this.onChange({modelChanged:!1,name:"inputFocus",event:t})},yearChange:function(t){this.data.empty=!1,this.model=a.dateAdapter.setYear(this.data.model,t.target.options[t.target.selectedIndex].value),a.dateAdapter.isAfter(this.model,this.data.max)?this.model=a.dateAdapter.setMonth(this.data.model,a.dateAdapter.getMonth(this.data.max)):a.dateAdapter.isBefore(this.model,this.data.min)&&(this.model=a.dateAdapter.setMonth(this.data.model,a.dateAdapter.getMonth(this.data.min))),this.redraw(),this.onChange({modelChanged:!0,name:"yearChange",event:t})},monthChange:function(t){this.data.empty=!1,this.model=a.dateAdapter.setMonth(this.data.model,t.target.options[t.target.selectedIndex].value),this.redraw(),this.onChange({modelChanged:!0,name:"monthChange",event:t})},dayClick:function(t){t.preventDefault(),t.stopPropagation(),this.model=a.dateAdapter.setDate(this.data.model,t.target.value),this.data.empty=!1,this.data.hideOnDayClick&&(this.display=!1),this.redraw(),this.onChange({modelChanged:!0,name:"dayClick",event:t})},previousMonthDayClick:function(t){this.data.siblingMonthDayClick&&(t.preventDefault(),t.stopPropagation(),this.model=a.dateAdapter.setDate(a.dateAdapter.subMonths(this.data.model,1),t.target.value),this.data.empty=!1,this.data.hideOnDayClick&&(this.display=!1),this.redraw(),this.onChange({modelChanged:!0,name:"previousMonthDayClick",event:t}))},nextMonthDayClick:function(t){this.data.siblingMonthDayClick&&(t.preventDefault(),t.stopPropagation(),this.model=a.dateAdapter.setDate(a.dateAdapter.addMonths(this.data.model,1),t.target.value),this.data.empty=!1,this.data.hideOnDayClick&&(this.display=!1),this.redraw(),this.onChange({modelChanged:!0,name:"nextMonthDayClick",event:t}))},dayKeyDown:function(){},keyDown:function(t){if(this.data.hideOnEnter){var e=t.which||t.keyCode;13!==e&&27!==e||(document.getElementById(this.inputId).blur(),this.display=!1,this.onChange({modelChanged:!1,name:"keyDown",event:t}))}}},a.renders={},a.properties={display:!1,disabled:!1},a.dateAdapter=void 0,e.exports=a},{nanomorph:1,"yo-yoify/lib/appendChild":4,"yo-yoify/lib/setAttribute":5}],9:[function(t,e,n){"use strict";var a=t("./adapters/moment.js"),i=t("./dpicker");i.dateAdapter=a,e.exports=i},{"./adapters/moment.js":6,"./dpicker":8}],10:[function(t,e,n){"use strict";var a=t("yo-yoify/lib/appendChild"),i=t("yo-yoify/lib/setAttribute");e.exports=function(t){function e(e){var n=e.meridiem?s:d,a=parseInt(e.step),i=o.filter(function(t){return t%a==0});return t.dateAdapter.getHours(e.model),[e.min,e.max].map(function(i,r){if(t.dateAdapter.isSameDay(e.model,i)){var o=t.dateAdapter.getHours(i),d=t.dateAdapter.getMinutes(i),s=i;0===r&&d+a>60&&(s=t.dateAdapter.setMinutes(t.dateAdapter.setHours(s,0===r?++o:--o),0),d=0),!0===e.meridiem&&(o>12?o-=12:0===o&&(o=12)),n=n.filter(function(t){return 0===r?t>=o:t<=o})}}),{hours:n,minutes:i}}function n(t){return t<10?"0"+t:""+t}function r(){if(this.data.time&&!(parseInt(this.data.step,10)<=1)){var n=e(this.data).minutes,a=t.dateAdapter.getMinutes(this.data.model);a<n[0]&&(this.data.model=t.dateAdapter.setMinutes(this.data.model,n[0]),a=n[0]),a>n[n.length-1]?this.data.model=t.dateAdapter.setMinutes(t.dateAdapter.addHours(this.data.model,1),0):(n[n.length]=60,a=n.reduce(function(t,e){return Math.abs(e-a)<Math.abs(t-a)?e:t}),n.length--,this.data.model=t.dateAdapter.setMinutes(this.data.model,a))}}var o=new Array(60).fill(0).map(function(t,e){return e}),d=new Array(24).fill(0).map(function(t,e){return e}),s=new Array(12).fill(0).map(function(t,e){return 0===e?12:e});s.push(s.shift());var u=["AM","PM"];return t.renders.time=function(r,o){var d,s;if(!o.time)return(s=document.createElement("span")).setAttribute("style","display: none;"),s.setAttribute("class","dpicker-time"),s;var l=t.dateAdapter.getHours(o.model);!1!==o.meridiem&&(l=0===(l=l>12?l-12:l)?12:l);var c,h,m,p=e(o),f=p.hours,g=p.minutes,v=t.dateAdapter.getMinutes(o.model),y=[],A=l+":"+v,b=t.dateAdapter.getHours(o.min),C=t.dateAdapter.getMinutes(o.min),D=t.dateAdapter.getHours(o.max),k=t.dateAdapter.getMinutes(o.max);o.concatHoursAndMinutes?y.push(((c=document.createElement("select")).onchange=r.minuteHoursChange,c.setAttribute("name","dpicker-time"),c.setAttribute("aria-label","time"),a(c,[" ",[].concat.apply([],g.map(function(t){return f.map(function(e){return e+":"+t})})).filter(function(e){var n=e.split(":").map(parseFloat);return!(t.dateAdapter.isSameDay(o.model,o.min)&&n[0]===b&&n[1]<C||t.dateAdapter.isSameDay(o.model,o.max)&&n[0]===D&&n[1]>k)}).sort(function(t,e){return t=t.split(":").map(parseFloat),e=e.split(":").map(parseFloat),t[0]<e[0]?-1:t[0]>e[0]?1:t[1]<e[1]?-1:t[1]>e[1]?1:0}).map(function(t){var e,r=t.split(":").map(n).join(":");return e=document.createElement("option"),i(e,t===A?"selected":"",t===A?"selected":""),e.setAttribute("value",""+String(t)),a(e,[r]),e})," "]),c)):y.push(((h=document.createElement("select")).onchange=r.hoursChange,h.setAttribute("name","dpicker-hours"),h.setAttribute("aria-label","Hours"),a(h,[f.map(function(t,e){var r;return r=document.createElement("option"),i(r,t===l?"selected":"",t===l?"selected":""),r.setAttribute("value",""+String(t)),a(r,[n(t)]),r})]),h),((m=document.createElement("select")).onchange=r.minutesChange,m.setAttribute("name","dpicker-minutes"),m.setAttribute("aria-label","Minutes"),a(m,[g.filter(function(e){return!(t.dateAdapter.isSameDay(o.model,o.min)&&l===b&&e<C||t.dateAdapter.isSameDay(o.model,o.max)&&l===D&&e>k)}).map(function(t,e){var r;return r=document.createElement("option"),i(r,t===v?"selected":"",t===v?"selected":""),r.setAttribute("value",""+String(t)),a(r,[n(t)]),r})]),m));if(!1!==o.meridiem){var M,S=t.dateAdapter.getMeridiem(o.model);y.push(((M=document.createElement("select")).onchange=r.meridiemChange,M.setAttribute("name","dpicker-meridiem"),a(M,[" ",u.map(function(t){var e;return e=document.createElement("option"),i(e,S===t?"selected":"",S===t?"selected":""),e.setAttribute("value",""+String(t)),a(e,[t]),e})," "]),M))}return(d=document.createElement("span")).setAttribute("class","dpicker-time"),a(d,[y]),d},t.events.hoursChange=function(e){this.data.empty=!1;var n=parseInt(e.target.options[e.target.selectedIndex].value,10);!1!==this.data.meridiem&&(t.dateAdapter.getMeridiem(this.data.model)===u[1]?n=12===n?12:n+12:12===n&&(n=0)),this.model=t.dateAdapter.setHours(this.data.model,n),!1===e.redraw&&this.redraw(),this.onChange({modelChanged:!0,name:"hoursChange",event:e})},t.events.minutesChange=function(e){this.data.empty=!1,this.model=t.dateAdapter.setMinutes(this.data.model,e.target.options[e.target.selectedIndex].value),!1===e.redraw&&this.redraw(),this.onChange({modelChanged:!0,name:"minutesChange",event:e})},t.events.minuteHoursChange=function(t){var e=t.target.options[t.target.selectedIndex].value.split(":");this.events.hoursChange({target:{options:[{value:e[0]}],selectedIndex:0},redraw:!1}),this.events.minutesChange({target:{options:[{value:e[1]}],selectedIndex:0},redraw:!1}),this.redraw()},t.events.meridiemChange=function(e){this.data.empty=!1;var n=e.target.options[e.target.selectedIndex].value,a=t.dateAdapter.getHours(this.data.model);a=n===u[0]?12===a?0:a-12:12===a?12:a+12,this.model=t.dateAdapter.setHours(this.data.model,a),this.redraw(),this.onChange({modelChanged:!0,name:"meridiemChange",event:e})},t.events.inputChange=t.decorate(t.events.inputChange,function(){r.apply(this)}),t.prototype.initialize=t.decorate(t.prototype.initialize,function(){r.apply(this)}),t.prototype.redraw=t.decorate(t.prototype.redraw,function(){r.apply(this)}),t.properties.time=function(t){return"datetime"===t.type},t.properties.step=function(t){return t.step?parseInt(t.step,10):1},t.properties.meridiem=!1,t.properties.concatHoursAndMinutes=!1,t}},{"yo-yoify/lib/appendChild":4,"yo-yoify/lib/setAttribute":5}]},{},[7])(7)});